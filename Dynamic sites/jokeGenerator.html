<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>

<body>
    <p id="joke">Click Below for jokes</p>
    <button id="jokebtn">Clcik here</button>

    <script>
        joke = document.querySelector("#joke")
        jokebtn = document.querySelector("#jokebtn")



        //Using Promises




        // function jokechange(){
        //     setheader = {
        //         headers: {
        //             Accept : 'application/JSON'
        //         }
        //     }

        //     fetch('https://icanhazdadjoke.com' , setheader)
        //     .then( (res) => res.json() )
        //     .then( (data) => {
        //         joke.innerHTML = data.joke
        //     })
        // }



        
        // Using async and await




        async function jokechange() {
            try {
                const setheader = {
                    headers: {
                        Accept: 'application/JSON'
                    }
                }

                const res = await fetch('https://icanhazdadjoke.com', setheader);
                const data = await res.json();
                joke.innerHTML = data.joke
            } catch (err) {
                console.log(`The error is ${err}`);
            }
        }


        jokebtn.addEventListener('click', jokechange)

    </script>
</body>

</html>